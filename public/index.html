<!DOCTYPE html>
<html>
<head>
  <title>De Koen Quiz ðŸŽ„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <audio autoplay loop>
    <source src="music/christmas-music.mp3" type="audio/mpeg">
  </audio>

  <div class="garland"></div>
  <div class="presents">
    <div class="present"></div>
    <div class="present"></div>
    <div class="present"></div>
  </div>

  <div class="layout">
    <div class="quiz-card">
      <h1>De Koen Quiz</h1>
      <div id="question">Loading today's question...</div>
      <div id="choices"></div>
      <input id="username" placeholder="Your name" />
      <textarea id="answer" placeholder="Your answer"></textarea>
      <button class="submit-btn" onclick="submitAnswer()">Submit</button>
      <div class="credits">
        <a class="sheet-link" target="_blank" href="https://docs.google.com/spreadsheets/d/1eJLd2rerfazwQDozdF-bKxNfr068Lb6TfOXEwplCElA/edit?gid=523961148#gid=523961148">link naar spreadsheet</a><br>
        website gemaakt door <b>Tamir Boesjes</b><br>
        vragen door <b>Koen van Dijk</b>
      </div>
    </div>

  <div class="notepad">
    <h3>ðŸ“Œ Announcements</h3>
    <textarea id="announcementBox" class="announcement-box" readonly>Loading...</textarea>
  </div>
  <script>
    async function loadAnnouncement() {
      const box = document.getElementById("announcementBox");
      try {
        const res = await fetch("/announcements");
        if (!res.ok) throw new Error("Failed to fetch announcements");

        const data = await res.json();
        box.innerText = data.content || "No announcements yet.";
      } catch (err) {
        console.error(err);
        box.innerText = "Failed to load announcements.";
      }
    }

    // Call it on page load
    loadAnnouncement();
  </script>


  </div>

  <div class="snow"></div>

  <script src="snow.js"></script>
  <script src="script.js"></script>
</body>
</html>
